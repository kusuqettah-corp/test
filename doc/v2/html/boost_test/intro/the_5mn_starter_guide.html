<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>The 5mn starter guide</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../../index.html" title="Boost.Test">
<link rel="up" href="../intro.html" title="Introduction">
<link rel="prev" href="../intro.html" title="Introduction">
<link rel="next" href="how_to_read_this_documentation.html" title="How to read this documentation?">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../intro.html"><img src="../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../intro.html"><img src="../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="how_to_read_this_documentation.html"><img src="../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_test.intro.the_5mn_starter_guide"></a><a class="link" href="the_5mn_starter_guide.html" title="The 5mn starter guide">The 5mn starter
      guide</a>
</h3></div></div></div>
<p>
        This section shows a step-by-step guide for writing your very first test,
        in less than 5mn.
      </p>
<h4>
<a name="boost_test.intro.the_5mn_starter_guide.h0"></a>
        <span class="phrase"><a name="boost_test.intro.the_5mn_starter_guide.building_boost_test"></a></span><a class="link" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.building_boost_test">Building
        boost.test</a>
      </h4>
<p>
        Before being able to do anything, you have to build boost.test.
      </p>
<pre class="programlisting"><span class="special">&gt;</span> <span class="identifier">cd</span> <span class="identifier">boost_path</span>
<span class="special">&gt;</span> <span class="identifier">boostrap</span><span class="special">.</span><span class="identifier">bat</span>
<span class="special">&gt;</span> <span class="identifier">b2</span> <span class="special">--</span><span class="identifier">with</span><span class="special">-</span><span class="identifier">test</span> <span class="special">--</span><span class="identifier">prefix</span><span class="special">=</span>$<span class="identifier">boost_installation_prefix</span> <span class="identifier">install</span>
</pre>
<p>
        or for Unix operating system (including OSX)
      </p>
<pre class="programlisting"><span class="special">&gt;</span> <span class="identifier">cd</span> <span class="identifier">boost_path</span>
<span class="special">&gt;</span> <span class="special">./</span><span class="identifier">boostrap</span><span class="special">.</span><span class="identifier">sh</span>
<span class="special">&gt;</span> <span class="special">./</span><span class="identifier">b2</span> <span class="special">--</span><span class="identifier">with</span><span class="special">-</span><span class="identifier">test</span> <span class="special">--</span><span class="identifier">prefix</span><span class="special">=</span>$<span class="identifier">boost_installation_prefix</span> <span class="identifier">install</span>
</pre>
<p>
        More documentation can be found <a href="http://www.boost.org/more/getting_started/index.html" target="_top">here</a>.
        Now you are ready to build against the <span class="emphasis"><em>Unit Test Framework</em></span>.
      </p>
<h4>
<a name="boost_test.intro.the_5mn_starter_guide.h1"></a>
        <span class="phrase"><a name="boost_test.intro.the_5mn_starter_guide.writing_your_first_test"></a></span><a class="link" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.writing_your_first_test">Writing
        your first test</a>
      </h4>
<p>
        Let's start by creating the minimal skeleton for our <a class="link" href="../section_glossary.html#ref_test_module">test
        module</a>. This minimal skeleton in the file <code class="computeroutput"><span class="identifier">test_file</span><span class="special">.</span><span class="identifier">cpp</span></code>, looks
        like this:
      </p>
<pre class="programlisting"><span class="preprocessor">#define</span> <a class="link" href="../users_guide/link_references.html#boost_test.users_guide.link_references.link_boost_test_dyn_link" title="BOOST_TEST_DYN_LINK"><code class="computeroutput"><span class="identifier">BOOST_TEST_DYN_LINK</span></code></a>
<span class="preprocessor">#define</span> <a class="link" href="../users_guide/link_references.html#boost_test.users_guide.link_references.link_boost_test_main_macro" title="BOOST_TEST_MAIN"><code class="computeroutput"><span class="identifier">BOOST_TEST_MAIN</span></code></a>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">test</span><span class="special">/</span><span class="identifier">unit_test</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>

<a class="link" href="../tests_organization/test_cases.html#ref_BOOST_AUTO_TEST_CASE"><code class="computeroutput"><span class="identifier">BOOST_AUTO_TEST_CASE</span></code></a><span class="special">(</span><span class="identifier">first_test</span><span class="special">)</span>
<span class="special">{</span>
  <a class="link" href="../testing_tools/testing_tool_ref.html#boost_test.testing_tools.testing_tool_ref.assertion_boost_level" title="BOOST_&lt;level&gt;"><code class="computeroutput"><span class="identifier">BOOST_CHECK</span></code></a><span class="special">(</span><span class="keyword">true</span><span class="special">);</span>

  <span class="keyword">int</span> <span class="identifier">i</span> <span class="special">=</span> <span class="number">1</span><span class="special">;</span>
  <a class="link" href="../testing_tools/testing_tool_ref.html#boost_test.testing_tools.testing_tool_ref.assertion_boost_level_eq" title="BOOST_&lt;level&gt;_EQUAL"><code class="computeroutput"><span class="identifier">BOOST_CHECK_EQUAL</span></code></a><span class="special">(</span><span class="identifier">i</span><span class="special">,</span> <span class="number">1</span><span class="special">);</span>
<span class="special">}</span>
</pre>
<p>
        The command/macro <a class="link" href="../tests_organization/test_cases.html#ref_BOOST_AUTO_TEST_CASE"><code class="computeroutput"><span class="identifier">BOOST_AUTO_TEST_CASE</span></code></a> declares a
        test named <code class="computeroutput"><span class="identifier">first_test</span></code>, which
        in turn will run the content of <code class="computeroutput"><span class="identifier">first_test</span></code>
        inside the controlled testing environment. This test checks that <code class="computeroutput"><span class="keyword">true</span></code> is <code class="computeroutput"><span class="keyword">true</span></code>
        and that <code class="computeroutput"><span class="identifier">i</span></code> equals <code class="computeroutput"><span class="number">1</span></code>, often useful.
      </p>
<p>
        Before continuing in adding value to the test module itself, let's now build
        the test module contained in <span class="bold"><strong>an unique</strong></span>
        <a href="#ftn.boost_test.intro.the_5mn_starter_guide.f0" class="footnote" name="boost_test.intro.the_5mn_starter_guide.f0"><sup class="footnote">[1]</sup></a> file. For building the test module, we have two more tools: the
        compiler and the linker, which should be configured appropriately:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            configure the compiler to find the header file <code class="computeroutput"><span class="identifier">boost</span><span class="special">/</span><span class="identifier">test</span><span class="special">/</span><span class="identifier">unit_test</span><span class="special">.</span><span class="identifier">hpp</span></code>.
          </li>
<li class="listitem">
            configure the linker to find the boost.test library that were previously
            compiled.
          </li>
</ul></div>
<p>
        We will see now three common use cases.
      </p>
<h5>
<a name="boost_test.intro.the_5mn_starter_guide.h2"></a>
        <span class="phrase"><a name="boost_test.intro.the_5mn_starter_guide.using_gcc_clang"></a></span><a class="link" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.using_gcc_clang">Using GCC/Clang</a>
      </h5>
<pre class="programlisting"><span class="identifier">g</span><span class="special">++</span> <span class="special">-</span><span class="identifier">o</span> <span class="identifier">test_executable</span> <span class="special">\</span>
    <span class="special">-</span><span class="identifier">I</span> $<span class="identifier">boost_installation_prefix</span><span class="special">/</span><span class="identifier">include</span> <span class="special">\</span>
    <span class="special">-</span><span class="identifier">L</span> $<span class="identifier">boost_installation_prefix</span><span class="special">/</span><span class="identifier">lib</span> <span class="special">\</span>
    <span class="special">-</span><span class="identifier">l</span> <span class="identifier">boost_unit_test_framework</span> <span class="special">\</span>
    <span class="identifier">test_file</span><span class="special">.</span><span class="identifier">cpp</span>
</pre>
<p>
        The command line is similar for <code class="computeroutput"><span class="identifier">clang</span></code>.
        As you can see, the previous example is not exactly an example to follow
        for bigger projects, but this is more than enough to build our own unique
        test file into an appropriate test module.
      </p>
<h5>
<a name="boost_test.intro.the_5mn_starter_guide.h3"></a>
        <span class="phrase"><a name="boost_test.intro.the_5mn_starter_guide.using_visual_studio"></a></span><a class="link" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.using_visual_studio">Using
        Visual Studio</a>
      </h5>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
            open Visual and create an empty C++ console Win32 project
          </li>
<li class="listitem">
            add the file <code class="computeroutput"><span class="identifier">test_file</span><span class="special">.</span><span class="identifier">cpp</span></code>
          </li>
<li class="listitem">
            go to the properties of the project,
            <div class="orderedlist"><ol class="orderedlist" type="a">
<li class="listitem">
                  under C/C++/General/include directories, add $<code class="computeroutput"><span class="identifier">boost_installation_prefix</span><span class="special">/</span><span class="identifier">include</span></code>
                </li>
<li class="listitem">
                  under Link/General/Additional library paths, add $<code class="computeroutput"><span class="identifier">boost_installation_prefix</span><span class="special">/</span><span class="identifier">lib</span></code>
                </li>
</ol></div>
          </li>
</ol></div>
<p>
        A nice property on Windows is <a class="link" href="../users_guide/link_references.html#boost_test.users_guide.link_references.link_boost_test_no_lib" title="BOOST_TEST_NO_LIB">auto-linking</a>,
        so you do not need to specify the library <code class="computeroutput"><span class="identifier">boost_unit_test_framework</span></code>
        to the linker.
      </p>
<h5>
<a name="boost_test.intro.the_5mn_starter_guide.h4"></a>
        <span class="phrase"><a name="boost_test.intro.the_5mn_starter_guide.using_cmake"></a></span><a class="link" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.using_cmake">Using
        CMake</a>
      </h5>
<p>
        Let's be more independent of the platform, and use <a href="http://www.cmake.org" target="_top">cmake</a>.
        Let's paste the following content in a <code class="computeroutput"><span class="identifier">CMakeLists</span><span class="special">.</span><span class="identifier">txt</span></code> at
        the same location than our previous test file <code class="computeroutput"><span class="identifier">test_file</span><span class="special">.</span><span class="identifier">cpp</span></code>:
      </p>
<pre class="programlisting"><span class="identifier">cmake_minimum_required</span><span class="special">(</span><span class="identifier">VERSION</span> <span class="number">2.8</span><span class="special">.</span><span class="number">11</span><span class="special">)</span>
<span class="identifier">project</span><span class="special">(</span><span class="identifier">first_test_with_cmake</span><span class="special">)</span>
<span class="identifier">enable_testing</span><span class="special">()</span>

<span class="preprocessor"># looking</span> <span class="keyword">for</span> <span class="identifier">the</span> <span class="identifier">boost</span> <span class="identifier">installation</span> <span class="identifier">path</span>
<span class="identifier">find_package</span><span class="special">(</span><span class="identifier">Boost</span> <span class="identifier">COMPONENTS</span> <span class="identifier">unit_test_framework</span><span class="special">)</span>

<span class="preprocessor"># creates</span> <span class="identifier">the</span> <span class="identifier">executable</span>
<span class="identifier">add_executable</span><span class="special">(</span><span class="identifier">test_executable</span> <span class="identifier">test_file</span><span class="special">.</span><span class="identifier">cpp</span><span class="special">)</span>

<span class="preprocessor"># declares</span> <span class="identifier">a</span> <span class="identifier">test</span> <span class="identifier">with</span> <span class="identifier">our</span> <span class="identifier">executable</span>
<span class="identifier">add_test</span><span class="special">(</span><span class="identifier">NAME</span> <span class="identifier">test1</span> <span class="identifier">COMMAND</span> <span class="identifier">test_executable</span><span class="special">)</span>
</pre>
<p>
        We will now create the build directory for this project (separate directory),
        configure and build the project, as follow:
      </p>
<pre class="programlisting"><span class="special">&gt;</span> <span class="identifier">cd</span> $<span class="identifier">test_path</span>
<span class="special">&gt;</span> <span class="identifier">mkdir</span> <span class="identifier">build</span> <a class="co" name="boost_test.intro.the_5mn_starter_guide.c0" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.c1"><img src="../../../../../../../doc/src/images/callouts/1.png" alt="1" border="0"></a>
<span class="special">&gt;</span> <span class="identifier">cd</span> <span class="identifier">build</span>
<span class="special">&gt;</span> <span class="identifier">cmake</span> <span class="special">-</span><span class="identifier">DBOOST_ROOT</span><span class="special">=</span>$<span class="identifier">boost_installation_prefix</span> <span class="special">..</span> <a class="co" name="boost_test.intro.the_5mn_starter_guide.c2" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.c3"><img src="../../../../../../../doc/src/images/callouts/2.png" alt="2" border="0"></a>
<span class="special">&gt;</span> <span class="identifier">cmake</span> <span class="special">--</span><span class="identifier">build</span> <span class="special">.</span> <a class="co" name="boost_test.intro.the_5mn_starter_guide.c4" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.c5"><img src="../../../../../../../doc/src/images/callouts/3.png" alt="3" border="0"></a>
<span class="special">&gt;</span> <span class="identifier">ctest</span>           <a class="co" name="boost_test.intro.the_5mn_starter_guide.c6" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.c7"><img src="../../../../../../../doc/src/images/callouts/4.png" alt="4" border="0"></a>
</pre>
<div class="calloutlist"><table border="0" summary="Callout list">
<tr>
<td width="5%" valign="top" align="left"><p><a name="boost_test.intro.the_5mn_starter_guide.c1"></a><a href="#boost_test.intro.the_5mn_starter_guide.c0"><img src="../../../../../../../doc/src/images/callouts/1.png" alt="1" border="0"></a> </p></td>
<td valign="top" align="left"><p>
            we create a directory dedicated to the build, to avoid any pollution
            of the sources with the temporary build files
          </p></td>
</tr>
<tr>
<td width="5%" valign="top" align="left"><p><a name="boost_test.intro.the_5mn_starter_guide.c3"></a><a href="#boost_test.intro.the_5mn_starter_guide.c2"><img src="../../../../../../../doc/src/images/callouts/2.png" alt="2" border="0"></a> </p></td>
<td valign="top" align="left"><p>
            configuration of the project, the <code class="computeroutput"><span class="identifier">BOOST_ROOT</span></code>
            configuration element indicates the Boost module of <code class="computeroutput"><span class="identifier">cmake</span></code>
            where to find our installation
          </p></td>
</tr>
<tr>
<td width="5%" valign="top" align="left"><p><a name="boost_test.intro.the_5mn_starter_guide.c5"></a><a href="#boost_test.intro.the_5mn_starter_guide.c4"><img src="../../../../../../../doc/src/images/callouts/3.png" alt="3" border="0"></a> </p></td>
<td valign="top" align="left"><p>
            this command builds the project, cmake drives a native tool that is configured
            on the previous command line
          </p></td>
</tr>
<tr>
<td width="5%" valign="top" align="left"><p><a name="boost_test.intro.the_5mn_starter_guide.c7"></a><a href="#boost_test.intro.the_5mn_starter_guide.c6"><img src="../../../../../../../doc/src/images/callouts/4.png" alt="4" border="0"></a> </p></td>
<td valign="top" align="left"><p>
            runs the tests declared in the project and prints a report
          </p></td>
</tr>
</table></div>
<h5>
<a name="boost_test.intro.the_5mn_starter_guide.h5"></a>
        <span class="phrase"><a name="boost_test.intro.the_5mn_starter_guide.really_less_than_5mn"></a></span><a class="link" href="the_5mn_starter_guide.html#boost_test.intro.the_5mn_starter_guide.really_less_than_5mn">Really
        less than 5mn</a>
      </h5>
<p>
        You should now be convinced that starting using the <span class="emphasis"><em>Unit Test Framework</em></span>
        is straighforward. As any framework, <span class="emphasis"><em>Unit Test Framework</em></span>
        also provides a lot of functionalities that you will discover when needed.
      </p>
<div class="footnotes">
<br><hr style="width:100; text-align:left;margin-left: 0">
<div id="ftn.boost_test.intro.the_5mn_starter_guide.f0" class="footnote"><p><a href="#boost_test.intro.the_5mn_starter_guide.f0" class="para"><sup class="para">[1] </sup></a>
          with more than one file, one line should be changed
        </p></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2001-2014 Gennadiy
      Rozental<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../intro.html"><img src="../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../intro.html"><img src="../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="how_to_read_this_documentation.html"><img src="../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
